<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>WeUI</title>
    <link rel="stylesheet" href="style/wap.problem.css"/>
</head>
<body class="body-bg" ontouchstart>
<!--启始页-->
	<section class="problem star" style="display:;">
		<figure class="problem-logo"><img src="style/star-logo.png" alt="探知未来之科普为你转身" /></figure>
		<h3 class="t1 current">奖品设置</h3><h3 class="t2">规则说明</h3>
		<div class="h3-content">一等奖1名：三星盖乐世C7<br />二等奖10名：三星移动电源<br />　　　　　 （濒危动物版）<br />三等奖50名：大赛定制U盘</div>
		<div class="h3-content" style="display: none;">1.看图找线索，回答科普问题<br />2.游戏共三关，每关3题全部<br />答对可获得1次抽奖机会<br />3.抽奖机会最多累计3次</div>
		<a href="javascript:;" class="btn-star">赶快参加</a>
		<em class="bg"></em>
	</section>
<!--做题 第1轮-->
	<section class="problem level1" style="display: none;">
		<figure class="img-gif"><img src="http://img.itlun.cn/uploads/allimg/160830/1-160S0162537.jpg" alt=""></figure>
		<h3><i class="ico-tip"></i>科普知识小问答：</h3>
		<div class="question ">
			<p>1.视频中是丹佛爱上对方就爱看啥地方叫撒反对就是，撒的发生的范德萨发生的发生的发生地方是短发是打阿斯顿发送到发送到发送到发送到发？</p>
		</div>
		<div class="select">
			<label>A.啊啊啊啊啊啊啊</label>
			<label class="current">B.啊啊啊啊啊啊啊啊啊啊啊啊啊啊</label>
			<label>C.啊啊啊啊啊啊啊</label>
			<label>D.啊啊啊啊啊啊啊</label>
		</div>
	</section>
<!--做题 第2轮-->
	<section class="problem level2" style="display: none;">
		<figure class="img-gif"><img src="http://img.itlun.cn/uploads/allimg/160830/1-160S0162537.jpg" alt=""></figure>
		<h3><i class="ico-tip"></i>科普知识小问答：</h3>
		<div class="question ">
			<p>1.视频中是丹佛爱上对方就爱看啥地方叫撒反对就是，撒的发生的范德萨发生的发生的发生地方是短发是打阿斯顿发送到发送到发送到发送到发？</p>
		</div>
		<div class="select">
			<label>A.啊啊啊啊啊啊啊</label>
			<label class="current">B.啊啊啊啊啊啊啊啊啊啊啊啊啊啊</label>
			<label>C.啊啊啊啊啊啊啊</label>
			<label>D.啊啊啊啊啊啊啊</label>
		</div>
	</section>
<!--做题 第3轮-->
	<section class="problem level3" style="display: none;">
		<figure class="img-gif"><img src="http://img.itlun.cn/uploads/allimg/160830/1-160S0162537.jpg" alt=""></figure>
		<h3><i class="ico-tip"></i>科普知识小问答：</h3>
		<div class="question ">
			<p>1.视频中是丹佛爱上对方就爱看啥地方叫撒反对就是，撒的发生的范德萨发生的发生的发生地方是短发是打阿斯顿发送到发送到发送到发送到发？</p>
		</div>
		<div class="select">
			<label>A.啊啊啊啊啊啊啊</label>
			<label class="current">B.啊啊啊啊啊啊啊啊啊啊啊啊啊啊</label>
			<label>C.啊啊啊啊啊啊啊</label>
			<label>D.啊啊啊啊啊啊啊</label>
		</div>
	</section>
<!--抽奖-->
	<section class="problem choujiang" style="display:none;">
		<div class="tip">你还有<em>1</em>次机会</div>
		<div class="zhuanpan">
		    <link href="style/activity-style.css" rel="stylesheet" type="text/css">
		    <div id="outercont">
		        <div id="outer-cont">
		            <div id="outer">
		                <img src="style/activity-lottery-1.png" style="width:100%;">
		            </div>
		        </div>
		        <div id="inner-cont">
		            <div id="inner">
		                <img src="style/activity-lottery-2.png" style="width:100%;">
		            </div>
		        </div>
		    </div>
		</div>
		<a href="javascript:;" class="btn-red">填写个人信息</a>
		<h3 class="t1 current">奖品设置</h3><h3 class="t2">规则说明</h3>
		<div class="h3-content">一等奖1名：三星盖乐世C7<br />二等奖10名：三星移动电源<br />　　　　　 （濒危动物版）<br />三等奖50名：大赛定制U盘</div>
		<div class="h3-content" style="display: none;">1.看图找线索，回答科普问题<br />2.游戏共三关，每关3题全部<br />答对可获得1次抽奖机会<br />3.抽奖机会最多累计3次</div>
		<a href="javascript:;" class="btn-blue">更多挑战</a>
	<em class="bg1"></em><em class="bg2"></em></section>
<!--转盘js-->
<script src="js/jquery-2.1.4.min.js" type="text/javascript"></script>
<script src="js/jQueryRotate.2.2.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
var dataObj = [0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330];
$(function() {
    var rotating = false;
    var rotateFunc = function(num, type) {
        rotating = true;
        $("#outer").rotate({
            angle: 0,
            duration: 4000,
            animateTo: num + 1440, //1440是我要让指针旋转4圈
            callback: function() {
                rotating = false;
                if (type == 0) {
                    alert("恭喜你获得手电筒一个");
                } else if (type == 4) {
                    alert("恭喜你获得U盘一个");
                } else if (type == 8) {
                    alert("恭喜你获得三等奖");
                } else {
                    alert("再接再厉");
                }
            }
        });
    };
    $("#inner").on("click", function() {
        /***
         * ajax操作返回数据*
         * **/
        var key = getRandom(0, 12);
        //key = 4
        !rotating && rotateFunc(dataObj[key], key);
    });
});
function getRandom(min, max) {
    //x上限，y下限   
    var x = max;
    var y = min;
    if (x < y) {
        x = min;
        y = max;
    }
    var rand = parseInt(Math.random() * (x - y + 1) + y);
    return rand;
}
</script>
<!--填写信息表单-->
	<section class="xxform" style="display:none;">
		<h3 class="form-title">填写个人信息</h3>
		<form action="">
			<label><span class="w20">姓名：</span><input type="text" placeholder="请填写（必填）" ></label>
			<label><span class="w20">电话：</span><input type="tel" placeholder="请填写（必填）" ></label>
			<label><span class="w20">地址：</span><textarea placeholder="请填写（必填）"></textarea></label>
			<p class="submit"><button type="submit" class="btn-red">提交</button></p>
			<p class="error">提交失败请重新提交</p>
		</form>
		<aside class="sft-logo"><img src="style/sft-logo.png"></aside>
	</section>


<!--第1轮 赢 弹窗-->
	<div class="dialog-confirm" style="display: none;">
		<em class="dialog-mask"></em>
		<div class="dialog win">
			<figure class="img-title"><img src="style/pop-win1.png" alt=""></figure>
			<p class="tip">闯关成功<br>恭喜你获得了1次抽奖机会</p>
			<a href="javascript:;" class="btn-red">去抽奖</a>
			<a href="javascript:;" class="btn-blue">继续挑战</a>
		</div>
	</div>
<!--第1轮 输 弹窗-->
	<div class="dialog-confirm" style="display: none;">
		<em class="dialog-mask"></em>
		<div class="dialog over">
			<figure class="img-title"><img src="style/pop-over1.png" alt=""></figure>
			<p class="tip">很遗憾<br>闯关失败</p>
			<a href="javascript:;" class="btn-blue">再来一次</a>
		</div>
	</div>
<!--第2轮 赢 弹窗-->
	<div class="dialog-confirm" style="display:none;">
		<em class="dialog-mask"></em>
		<div class="dialog win">
			<figure class="img-title"><img src="style/pop-win2.png" alt=""></figure>
			<p class="tip">闯关成功<br>恭喜你获得了*次抽奖机会</p>
			<a href="javascript:;" class="btn-red">去抽奖</a>
			<a href="javascript:;" class="btn-blue">继续挑战</a>
		</div>
	</div>
<!--第2轮 输 弹窗-->
	<div class="dialog-confirm" style="display:none;">
		<em class="dialog-mask"></em>
		<div class="dialog over">
			<figure class="img-title"><img src="style/pop-over2.png" alt=""></figure>
			<p class="tip">很遗憾 闯关失败<br>你获得了*次抽奖机会</p>
			<a href="javascript:;" class="btn-red">去抽奖</a>
			<a href="javascript:;" class="btn-blue">继续挑战</a>
		</div>
	</div>
<!--第3轮 赢 弹窗-->
	<div class="dialog-confirm" style="display:none;">
		<em class="dialog-mask"></em>
		<div class="dialog win">
			<figure class="img-title"><img src="style/pop-win3.png" alt=""></figure>
			<p class="tip">闯过全部关卡<br>恭喜你已有*次抽奖机会</p>
			<a href="javascript:;" class="btn-red">去抽奖</a>
		</div>
	</div>
<!--第3轮 输 弹窗-->
	<div class="dialog-confirm" style="display:none;">
		<em class="dialog-mask"></em>
		<div class="dialog over">
			<figure class="img-title"><img src="style/pop-over3.png" alt=""></figure>
			<p class="tip">很遗憾 闯关失败<br>你获得了*次抽奖机会</p>
			<a href="javascript:;" class="btn-red">去抽奖</a>
			<a href="javascript:;" class="btn-blue">继续挑战</a>
		</div>
	</div>
<!--抽奖结果 弹窗-->
	<div class="dialog-confirm" style="display:none;">
		<em class="dialog-mask"></em>
		<div class="dialog choujiang">
			<h3 class="dialog-title">恭喜中奖</h3>
			<p class="tip">RP逆天啦，快填写中奖信息<br>坐等奖品飞过去吧</p>
			<a href="javascript:;" class="btn-red">填写中奖信息</a>
			<a href="javascript:;" class="btn-blue">返回</a>
			<aside class="sft-logo"><img src="style/sft-logo.png"></aside>
			<i class="ico-close"></i>
		</div>
	</div>
<!--展示交互、流程-->
<script>
	document.querySelectorAll('h3.t2')[0].onclick = function (){//开始页标签切
		this.className = 't2 current';
		document.querySelectorAll('h3.t1')[0].className = 't1';
		document.querySelectorAll('.h3-content')[0].style.display = 'none';
		document.querySelectorAll('.h3-content')[1].style.display = 'block';
	};
	document.querySelector('.btn-star').onclick = function (){//进入第一轮答题
		document.querySelector('.star').style.display = 'none';
		document.querySelector('.level1').style.display = 'block';
	};
	document.querySelector('.level1').onclick = function (){//弹窗第一轮失败
		document.querySelectorAll('.dialog-confirm')[1].style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-blue')[1].onclick = function (){//弹窗第一轮成功
		document.querySelectorAll('.dialog-confirm')[1].style.display = 'none';
		document.querySelectorAll('.dialog-confirm')[0].style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-blue')[0].onclick = function (){//进入第二轮答题
		document.querySelectorAll('.dialog-confirm')[0].style.display = 'none';
		document.querySelector('.level1').style.display = 'none';
		document.querySelector('.level2').style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-red')[0].onclick = function (){//第一轮直进入抽奖界面
		document.querySelectorAll('.dialog-confirm')[0].style.display = 'none';
		document.querySelector('.level1').style.display = 'none';
		document.querySelector('.choujiang').style.display = 'block';
	}
	document.querySelector('.level2').onclick = function (){//弹窗第二轮失败
		document.querySelectorAll('.dialog-confirm')[3].style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-red')[2].onclick = function (){//第二轮失败后进入抽奖界面
		document.querySelectorAll('.dialog-confirm')[3].style.display = 'none';
		document.querySelector('.level2').style.display = 'none';
		document.querySelector('.choujiang').style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-blue')[3].onclick = function (){//弹窗第二轮成功
		document.querySelectorAll('.dialog-confirm')[3].style.display = 'none';
		document.querySelectorAll('.dialog-confirm')[2].style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-red')[1].onclick = function (){//第二轮成功后进入抽奖界面
		document.querySelectorAll('.dialog-confirm')[2].style.display = 'none';
		document.querySelector('.level2').style.display = 'none';
		document.querySelector('.choujiang').style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-blue')[2].onclick = function (){//进入第三轮答题
		document.querySelectorAll('.dialog-confirm')[2].style.display = 'none';
		document.querySelector('.level2').style.display = 'none';
		document.querySelector('.level3').style.display = 'block';
	}
	document.querySelector('.level3').onclick = function (){//弹窗第三轮失败
		document.querySelectorAll('.dialog-confirm')[5].style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-red')[4].onclick = function (){//第三轮失败后进入抽奖界面
		document.querySelectorAll('.dialog-confirm')[5].style.display = 'none';
		document.querySelector('.level3').style.display = 'none';
		document.querySelector('.choujiang').style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-blue')[4].onclick = function (){//弹窗第三轮成功
		document.querySelectorAll('.dialog-confirm')[5].style.display = 'none';
		document.querySelectorAll('.dialog-confirm')[4].style.display = 'block';
	}
	document.querySelectorAll('.dialog-confirm .btn-red')[3].onclick = function (){//第三轮成功后进入抽奖界面
		document.querySelectorAll('.dialog-confirm')[4].style.display = 'none';
		document.querySelector('.level3').style.display = 'none';
		document.querySelector('.choujiang').style.display = 'block';
	}
	document.querySelectorAll('h3.t2')[1].onclick = function (){//抽奖页标签切
		this.className = 't2 current';
		document.querySelectorAll('h3.t1')[1].className = 't1';
		document.querySelectorAll('.h3-content')[2].style.display = 'none';
		document.querySelectorAll('.h3-content')[3].style.display = 'block';
	};
	document.querySelector('.choujiang .btn-red').onclick = function (){//弹窗抽奖结果
		document.querySelectorAll('.dialog-confirm')[6].style.display = 'block';
			
	}
	document.querySelectorAll('.dialog-confirm .btn-red')[5].onclick = function (){//进入填写表单
		document.querySelector('.choujiang').style.display = 'none';	
		document.querySelectorAll('.dialog-confirm')[6].style.display = 'none';
		document.querySelector('.xxform').style.display = 'block';	
	}	
</script>
</body>
</html>